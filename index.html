<!DOCTYPE html>
<html lang="esp">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <title>Encriptador</title> 
        <link rel="stylesheet" href="reset.css">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        
    <header> 
        <div class="caja">
            <h1><img src="Imagenes/Vector.png" alt ="logo"></h1>
            
        </div>

    </header>
    <main>
        <div class="cajatexto">
            <textarea placeholder="Ingrese el Texto Aqui"></textarea>
            <div class="Botones">
                <input id="encriptar" type="submit" value="Encriptar" class="encriptar">
                <input id="desencriptar" type="submit" value="Desencriptar" class="desencriptar">
            </div>
        </div>
        <div class ="display">
            <div class = "before">
                <h1 ><img src="Imagenes/Muñeco.png"></h1>
                <h2>Ningun mensaje fue encontrado</h2>
                <p>Ingrese el texto que desees encriptar o desencriptar.</p>
            </div>
            <div class="after">
                <p id="mensajeencriptado">Mensaje encriptado</p>
                <input id="copiar" type="submit" value="copiar" class="copiar">
            </div>
        </div>

    </main>


    </body>

    <script>

        function rutinaencriptar(){
            if  (input.value == ""){
                textonoencontrado();
            }
            else{
                textoencontrado();
                const muestraencriptado = document.getElementById('mensajeencriptado');
                muestraencriptado.textContent = encriptatexto(input.value);
                
            
            }
            
        }
        function rutinadesencriptar(){
            if  (input.value == ""){
                textonoencontrado();
            }
            else{
                textoencontrado();
                const muestraencriptado = document.getElementById('mensajeencriptado');
                muestraencriptado.textContent = desencriptatexto(input.value);
            }
            
        }
        function textonoencontrado(){
            before.style.display = "initial";
            after.style.visibility='hidden';
        }
        function textoencontrado(){
            before.style.display = "none";
            after.style.visibility='visible';
        }
        function cuadrovacio(){
            before.style.display = "none";
            after.style.visibility='hidden';
        }
        function encriptatexto(texto){
            let textoencriptado = new String(texto);
            const chars = {
              'a': 'ai',
              'e': 'enter',
              'i': 'imes',
              'o': 'ober',
              'u': 'ufat'
             };

            textoencriptado = textoencriptado.replace(/[aeiou]/g, m => chars[m]);
            textoacopiar = textoencriptado;
           
            
            
            return textoencriptado;

        }
        function desencriptatexto(textoencriptado){
            let texto= new String(textoencriptado);

            const chars = {
              'ai': 'a',
              'enter': 'e',
              'imes': 'i',
              'ober': 'o',
              'ufat': 'u'
            };
            textoencriptado = textoencriptado.replace(/\s|ai|enter|imes|ober|ufat/g, m => chars[m]);
            textoencriptado = textoencriptado.replace(/undefined/g," ");
            textoacopiar = textoencriptado;



            return textoencriptado;

        }
        function copiar(){
            const elementocopiado = document.getElementById('mensajeencriptado');
            navigator.clipboard.writeText(textoacopiar);
            alert(textoacopiar);
        }
        const before = document.getElementsByClassName('before')[0];
        const after = document.getElementsByClassName('after')[0];
        const input = document.querySelector("textarea");
        const encrip = document.getElementById("encriptar"); 
        const desencrip = document.getElementById("desencriptar"); 
        const copy = document.getElementById("copiar"); 
        var textoacopiar="";
        cuadrovacio();
        input.focus;
        encrip.onclick = rutinaencriptar; // Agrega función onclick al elemento
        desencrip.onclick = rutinadesencriptar;
        copy.onclick = copiar;
    </script>


</html>